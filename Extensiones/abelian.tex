% !TeX root=../tfg2.tex

\section{Extensiones con núcleo abeliano}\label{sec:ab}
 % q coño significa esto kernel de qué de pi(i)?
% fijamos una acción de Q en A. Si dos extensiones son equivalentes tienen la misma acción. para cada Q-modulo sobre A tenemos tantas extensiones equivalentes como elementos tiene H2(Q,A)?
A continuación estudiaremos el caso en que $N$ es un grupo abeliano que a partir de ahora denotaremos por $A$. 
%Si consideramos la acción de $E$ por conjugación sobre $i(A)$, la acción restringida a $i(A)$ es trivial y por tanto está contenida en el kernel de la acción. Esto induce una acción en el cociente $E/i(A)\cong Q$, haciendo a $A$ un $Q$-módulo. 
 % esto no se entiende XD
 
 Por la Observación \ref{extact}, como $\Inn(A)$ es trivial, la acción de $Q$ en $A$ es un homomorfismo de grupos, lo que hace a $A$ un $Q$-módulo.

\begin{equation}\label{exta}
	1\to A\xrightarrow{i} E\xrightarrow{\pi} Q\to 1
\end{equation}

\begin{equation}
	\varphi \colon Q \to Aut(A)
\end{equation}

\begin{definicion}
	Denotamos por $\Ext_\varphi(Q,A)$ a las clases de extensiones equivalentes que dan lugar a la acción $\varphi$ de $Q$ en $A$.
\end{definicion}

Para estudiar esta extensión, consideramos una sección de $\pi$. Como $Q\cong E/i(A)$, dados $g,h\in Q$, $\pi\left(s(g)s(h)s(gh)^{-1}\right) = 1_{Q}$ por ser $\pi$ homomorfismo. Por tanto, $s(gh)$ y $s(g)s(h)$ distan en un elemento de $i(A)$ y podemos definir una función $\homo c {Q\times Q} {A}$ que mide cuánto dista $s$ de ser un homomorfismo:

\begin{equation}
	s(g)s(h) = s(gh)i\left(c(g,h)\right)
\end{equation}

% explicar que s(Q) \cong Q ya que s es inyectiva?
Podemos recuperar la extensión \eqref{exta} a partir de la acción $\varphi$ que hemos fijado y de la función $c$. Como $E=\bigcup\limits_{q\in Q} s(q)i(A) = s(Q)i(A)$ es una unión disjunta, podemos expresar unívocamente cada elemento de $E$ como un producto de elementos de $s(Q)$ e $i(A)$. Es decir, tenemos una biyección $Q\times A \to E$. A partir del producto en $E$, podemos definir una operación de grupo en $Q\times A$, que denotaremos por $E_{c}$. Dados $a_1,a_2\in A, \ q_1,q_2\in Q$ tenemos:
\begin{align}\begin{split}
s(q_1)i(a_1) s(q_2)i(a_2) &= s(q_1)s(q_2)i(a_1\cdot q_2)i(a_2) \\ &= s(q_1q_2)i(c(q_1,q_2) + a_1\cdot q_2+a_2)
\end{split}\end{align}
\noindent Por tanto, la operación en $E_c$ viene dada por:

\begin{equation}\label{extop}
(q_1,a_1)(q_2,a_2) = (q_1q_2,c(q_1,q_2) + a_1 \cdot q_2 + a_2)
\end{equation}
Notese que este producto no depende directamente de la sección $s$ escogida. Por ello, supondremos que la sección $s$ es normalizada 
\begin{equation}
	s(1) = 1
\end{equation}
de donde obtenemos que
\begin{equation}\label{cocnorm}
	c(1,q) = 0 = c(q,1)
\end{equation}
De esta forma el isomorfismo $\homo f E E_c$ viene dado por $q\in Q,\ a\in A$ $s(q)i(a) \mapsto (q,a)$. La inclusión de $A$ a $E_c$ y la proyección a $Q$ son las canónicas, haciendo a la extensión $E_c$ equivalente a \eqref{exta}.


%La siguiente proposición prueba que una función $\homo c {Q\times Q} A$ define una operación de grupo en $E_c$ con la acción $\varphi$ cuando es $c$ es un 2-cociclo.

\begin{proposicion}\label{prop:res1}
Sea $\varphi$ una acción de $Q$ en $A$ y $\homo c {Q\times Q} A$ una función que verifica la condición de normalización \eqref{cocnorm}. Entonces, la operación \eqref{extop} define una extensión de $Q$ por $A$ cuando $c$ es un 2-cociclo.
	\begin{demostracion}
	Para ver que la funcion define una operación de grupo comprobamos la asociatividad y la existencia de identidad e inversos.
	
	Imponiendo que $[(q_1,a_1)(q_2,a_2)](q_3,a_3) = (q_1,a_1)[(q_2,a_2)(q_3,a_3)]$ llegamos a la siguiente condición que garantiza que la operación sea asociativa
	
	\begin{equation}\label{eq2coc}
			c(q_1,q_2)\cdot q_3  - c(q_1,q_2q_3)+ c(q_1q_2,q_3) -c(q_2,q_3) =0
	\end{equation}
	
	Identidad: $(1,0)$
	
	Sea $(q,a)\in Q\times A$,
	
	$(1,0)(q,a) = (q,c(1,q) + 0\cdot q + a) = (q,a)$
	
	$(q,a)(1,0) = (q,c(q,1) + a\cdot 1 + 0) = (q,a)$
	
	Inverso de $(q,a)\in Q\times A$: $(q^{-1}, - c(q,q^{-1})-a\cdot q)$
	
	A continuación, comprobamos que la inclusión de $A$ a $A\times Q$ y la proyección a $Q$ definen homomorfismos y hacen a la sucesión exacta.
	
	$i(a_1)i(a_2)=(1,a_1)(1,a_2) = (1,c(1,1) + a_1\cdot 1 + a_2) = (1,a_1+a_2)=i(a_1+a_2)$
	
	$\pi((q_1,a_1)(q_2,a_2))=\pi((q_1q_2,-)) = q_1q_2 = \pi((q_1,-))\pi((q_2,-))$
	
	$\pi(i(a)) = \pi(1,a) = 1$
	\end{demostracion}
\end{proposicion}

\begin{proposicion}\label{prop:res2}
	Sea $E$ una extensión de $Q$ por $A$ y $s,s'$ dos secciones de $Q$ a $E$ y $c,c'$ los cociclos asociados a $s$ y $s'$. Entonces, $c$ y $c'$ se diferencian en un 2-coborde. Esto es, la extensión $E$ determina la clase $[c]\in H^2_\varphi(Q,A)$.
	
	\begin{demostracion}
		La diferencia de $s$ y $s'$ es una función $\homo e Q {A}$, $s'(q) = s(q)i(e(q))$ % tecnicamente es una funcion en i(A)
		\begin{align}\begin{split}
			s'(gh)i(c'(g,h)) &= s'(g)s'(h) \\ &= s(g)i(e(g))s(h)i(e(h))\\ &= s(g)s(h)i(e(g)\cdot h + e(h))  \\ &= s(gh)i(c(g,h) + e(g)\cdot h + e(h))
		\end{split}\end{align}
		De donde obtenemos $c'(g,h)-c(g,h) = e(g)\cdot h + e(h) - e(gh)$.
	\end{demostracion}
\end{proposicion}

Hemos visto en \ref{prop:res1} que una extensión de $Q$ por $A$ viene dada por un $2$-cociclo normalizado y en \ref{prop:res2} que dos extensiones son equivalentes cuando los $2$-cociclos se diferencian en un $2$-coborde. Por tanto, queda demostrado el siguiente teorema.

\begin{teorema}\label{h2}
	Sea $A$ un $Q$-módulo dado por una acción $\homo \varphi Q {Aut(A)}$. Entonces, las extensiones equivalentes de $Q$ por $A$ están en correspondencia uno a uno con los elementos del segundo grupo de cohomología.
	\begin{equation*}
		\Ext_{\varphi}(Q,A)\cong H^2_{\varphi}(Q,A)
	\end{equation*}
\end{teorema}

\begin{observacion}\label{obs:split}
	El producto semidirecto se corresponde con el elemento neutro de $H^2(Q,A)$.
	\begin{demostracion}
		Por el Teorema \ref{splitext}, si una sección es un homomorfismo, el $2$-cociclo asociado a ésta es trivial.
	\end{demostracion}
\end{observacion}



\subsection{Teorema de Schur-Zassenhaus. Caso abeliano}

\begin{lema}% por favor revisar los indices antes de publicarlo
	% dicho de otra forma, H^n(Q,A) es un Z_m-modulo donde m=|Q|
	Sea $Q$ un grupo y $A$ un grupo abeliano con $\mcd(\ord{Q}, \ord{A}) = 1$. Entonces $H^n(Q,A)$ es trivial para todo $n\in\Z^+$.
	\begin{demostracion}
		Sea $c$ un $n$-cociclo
		\begin{multline}\label{eq:ncocycle}
			c(q_1,\hdots,q_n)\cdot q_{n+1} + \left[\sum\limits_{i=1}^{n}(-1)^{n+1-i} c(q_1,\hdots,q_iq_{i+1},\hdots,q_{n+1}) \right] + \\ + (-1)^{n+1}c(q_2,\hdots,q_{n+1}) = 0
		\end{multline}
		
		Definiendo $\tilde c(q_2,\hdots,q_{n}) = {\displaystyle \sum_{q_1\in Q} c(q_1,\hdots,q_{n})}$ y haciendo la suma en \eqref{eq:ncocycle} para cada $q_1 \in Q$
		\begin{multline*}
			\tilde c(q_2,\hdots,q_n)\cdot q_{n+1} + \left[\sum\limits_{i=2}^{n}(-1)^{n-i}\tilde c(q_2,\hdots,q_iq_{i+1},\hdots,q_{n+1}) \right] +\\+ (-1)^n\tilde c(q_3,\hdots,q_{n+1})+ \ord{Q}(-1)^{n+1} c(q_2,\hdots,q_{n+1}) = 0
		\end{multline*}
		
		Como $\mcd(\ord{Q}, \ord{A}) = 1$, podemos multiplicar por $k \equiv (-1)^n|Q|^{-1} \mod |A|$
		\begin{multline*}
			c(q_2,\hdots,q_{n+1}) = k\tilde c(q_2,\hdots,q_n)\cdot q_{n+1} +\\+ \left[\sum\limits_{i=2}^{n}(-1)^{n-i}k\tilde c(q_2,\hdots,q_iq_{i+1},\hdots,q_{n+1}) \right] + (-1)^nk\tilde c(q_3,\hdots,q_{n+1})
		\end{multline*}
		
		El cociclo $c$ verifica la ecuación de un coborde para la función $k \tilde c$ y por tanto $H^n(Q,A)$ es trivial.
		
		
	\end{demostracion}
\end{lema}

\begin{teorema}\label{thmschurab} Sea $G$ un grupo finito y sea $N \norm G$ abeliano, $\ord{N}=n$ y $\ord{G:N}=m$ con $\mcd(n,m)=1$. Entonces $G$ contiene subgrupos de orden $m$ y dos cualesquiera son conjugados.
	\begin{demostracion}
%		Tomamos una sección $s$ y su $2$-cociclo asociado $c$. 
%		\begin{equation}
%			c(q_1,q_2)\cdot q_3  - c(q_1,q_2q_3)+ c(q_1q_2,q_3) -c(q_2,q_3) =0
%		\end{equation}
%		Definimos la función ${\displaystyle \tilde c(x) = \sum_{t\in Q} c(t,x)}$ y hacemos la suma en $q_1\in Q$
%		\begin{equation}\label{coccob}
%			m c(q_2,q_3) = \tilde c(q_2)\cdot q_3 + \tilde c(q_3) - \tilde c(q_2q_3)
%		\end{equation}
%		
%		Como $\mcd(m,n)=1$, existe un $k\in \Z$ tal que $km\equiv 1 \mod n$. Multiplicando por $k$ llegamos a 
%		\begin{equation}
%			c(q_2,q_3) = k \tilde c(q_2)\cdot q_3 + k \tilde c(q_3) - k \tilde c(q_2q_3)
%		\end{equation}
%		Por tanto, $c$ verifica la ecuación de un coborde para la función $k \tilde c$ y $H^{2}(Q,N)$ es trivial. Por la Observación \ref{obs:split}, $G$ es un producto semidirecto de $Q$ por $N$.
%		
%		Para ver que dos subgrupos cualesquiera son conjugados, cogemos $s$ una escisión de $G$ y $a$ su $1$-cociclo asociado. 
%		\begin{equation}
%			a(q_1q_2)=a(q_1)\cdot q_2 + a(q_2)
%		\end{equation}
%		Haciendo la suma en $q_1\in Q$ y multiplicando por $k$
%		\begin{equation}
%			a(q_2) = k\tilde a - k\tilde a \cdot q_2
%		\end{equation}
%		vemos que $a$ verifica la ecuación de un $1$-coborde para la función $k\tilde a$ y $H^1(Q,N)$ es trivial. Por el Teorema $\ref{h1}$, todas las escisiones son $N$-conjugadas y por tanto son conjugadas.

		Por el lema anterior, $H^2(Q,N)$ es trivial y por la Observación \ref{obs:split}, $G$ es un producto semidirecto de $Q$ por $N$. Esto prueba la parte de existencia.
		
		Para la conjugación, cualquier subgrupo $\tilde Q$ de $G$ de orden $m$, al ser $\mcd(n,m)=1$, tiene intersección trivial con $N$ y la proyección sobre $G/N$ es inyectiva. Por tanto, $\tilde Q$ es una escición de $G$. Por el mismo lema, $H^1(Q,N)$ es trivial y por el Teorema \ref{h1} todas las escisiones de la extensión $G$ son $N$-conjugadas y por tanto conjugadas. 
	\end{demostracion}
\end{teorema}