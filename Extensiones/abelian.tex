% !TeX root=../tfg2.tex

\section{Extensiones con núcleo abeliano}\label{sec:ab}
 % q coño significa esto kernel de qué de pi(i)?
% fijamos una acción de Q en A. Si dos extensiones son equivalentes tienen la misma acción. para cada Q-modulo sobre A tenemos tantas extensiones equivalentes como elementos tiene H2(Q,A)?
A continuación estudiaremos el caso en que $N$ es un grupo abeliano que a partir de ahora denotaremos por $A$. 
%Si consideramos la acción de $E$ por conjugación sobre $i(A)$, la acción restringida a $i(A)$ es trivial y por tanto está contenida en el kernel de la acción. Esto induce una acción en el cociente $E/i(A)\cong Q$, haciendo a $A$ un $Q$-módulo. 
 % esto no se entiende XD
 
 Por la Observación \ref{extact}, como $\Inn(A)$ es trivial, la acción de $Q$ en $A$ es un homomorfismo de grupos, lo que hace a $A$ un $Q$-módulo.

\begin{equation}\label{exta}
	1\to A\xrightarrow{i} E\xrightarrow{\pi} Q\to 1
\end{equation}

\begin{equation}
	\varphi \colon Q \to Aut(A)
\end{equation}

\begin{definicion}
	Denotamos por $\Ext_\varphi(Q,A)$ a las clases de extensiones equivalentes que dan lugar a la acción $\varphi$ de $Q$ en $A$.
\end{definicion}

Para estudiar esta extensión, consideramos una sección de $\pi$. Como $Q\cong E/i(A)$, dados $g,h\in Q$, $\pi\left(s(g)s(h)s(gh)^{-1}\right) = 1_{Q}$ por ser $\pi$ homomorfismo. Por tanto, $s(gh)$ y $s(g)s(h)$ distan en un elemento de $i(A)$ y podemos definir una función $\homo c {Q\times Q} {A}$ que mide cuánto dista $s$ de ser un homomorfismo:

\begin{equation}
	s(g)s(h) = i\left(c(g,h)\right)s(gh)
\end{equation}

% explicar que s(Q) \cong Q ya que s es inyectiva?
Podemos recuperar la extensión \eqref{exta} a partir de la acción $\varphi$ que hemos fijado y de la función $c$. Como $E=\bigcup\limits_{q\in Q} i(A)s(q) = i(A)s(Q)$ es una unión disjunta, podemos expresar unívocamente cada elemento de $E$ como un producto de elementos de $i(A)$ y $s(Q)$. Es decir, tenemos una biyección $A\times Q \to E$. A partir del producto en $E$, podemos definir una operación de grupo en $A\times Q$, que denotaremos por $E_{c}$. Dados $a_1,a_2\in A, \ q_1,q_2\in Q$ tenemos:
\begin{align}\begin{split}
i(a_1)s(q_1)i(a_2)s(q_2) &= i(a_1)i(q_1\cdot a_2)s(q_1)s(q_2) \\ &= i(a_1+ q_1\cdot a_2 + c(q_1,q_2))s(q_1q_2)
\end{split}\end{align}
\noindent Por tanto, la operación en $E_c$ viene dada por:

\begin{equation}\label{extop}
(a_1,q_1)(a_2,q_2) = (a_1 + q_1\cdot a_2 + c(q_1,q_2),q_1q_2)
\end{equation}
Notese que este producto no depende directamente de la sección $s$ escogida. Por ello, supondremos que la sección $s$ es normalizada 
\begin{equation}
	s(1) = 1
\end{equation}
de donde obtenemos que
\begin{equation}\label{cocnorm}
	c(1,q) = 0 = c(q,1)
\end{equation}
De esta forma, el isomorfismo $\homo f E E_c$ viene dado por $a\in A,\ q\in Q$ $i(a)s(q) \mapsto (a,q)$. La inclusión de $A$ a $E_c$ y la proyección a $Q$ son las canónicas, haciendo a la extensión $E_c$ equivalente a \eqref{exta}.


%La siguiente proposición prueba que una función $\homo c {Q\times Q} A$ define una operación de grupo en $E_c$ con la acción $\varphi$ cuando es $c$ es un 2-cociclo.

\begin{proposicion}\label{prop:res1}
Sea $\varphi$ una acción de $Q$ en $A$ y $\homo c {Q\times Q} A$ una función que verifica la condición de normalización \eqref{cocnorm}. Entonces, la operación \eqref{extop} define una extensión de $Q$ por $A$ cuando $c$ es un 2-cociclo.
	\begin{demostracion}
	Para ver que la funcion define una operación de grupo comprobamos la asociatividad y la existencia de identidad e inversos.
	
	Imponiendo que $[(a_1,q_1)(a_2,q_2)](a_3,q_3) = (a_1,q_1)[(a_2,q_2)(a_3,q_3)]$ llegamos a la siguiente condición que garantiza que la operación sea asociativa
	
%	(a_1+q_1\cdot a_2 + c(q_1,q_2),q_1q_2)(a_3,q_3) = 
%	(a_1+q_1\cdot a_2 + c(q_1,q_2) + q_1q_2\cdot a_3 + c(q_1q_2,q_3),q_1q_2q_3)
	
%	(a_1,q_1)(a_2+q_2\cdot a_3 + c(q_2,q_3),q_2q_3) = 
%	(a_1 + q_1\cdot a_2 + q_1q_2\cdot a_3 + q_1\cdot c(q_2,q_3) + c(q_1,q_2q_3),q_1q_2q_3)
	
%	c(q_1,q_2) + c(q_1q_2,q_3) = q_1\cdot c(q_2,q_3) + c(q_1,q_2q_3)
	
	
	\begin{equation}\label{eq2coc}	
		 q_1\cdot c(q_2,q_3) - c(q_1q_2,q_3) + c(q_1,q_2q_3) - c(q_1,q_2) = 0
	\end{equation}
	
	% CAMBIAR A ACCIONES A IZQUIERDA
	Identidad: $(0,1)$
	
	Sea $(a,q)\in A\times Q$,
	
	$(0,1)(a,q) = (0 + 1\cdot a + c(1,q), q) = (a,q)$
	
	$(a,q)(0,1) = (a+q\cdot 0 + c(q,1),q) = (a,q)$
	
	Inverso de $(a,q)\in A\times Q$: $(-q^{-1}\cdot a -c(q^{-1},q),q^{-1})$
	
	A continuación, comprobamos que la inclusión de $A$ a $A\times Q$ y la proyección a $Q$ definen homomorfismos y hacen a la sucesión exacta.
	
	$i(a_1)i(a_2)=(a_1,1)(a_2,1) = (a_1 + 1 \cdot a_2+c(1,1),1) = (a_1+a_2,1)=i(a_1+a_2)$
	
	$\pi((a_1,q_1)(a_2,q_2))=\pi((-,q_1q_2)) = q_1q_2 = \pi((-,q_1))\pi((-,q_2))$
	
	$\pi(i(a)) = \pi(a,1) = 1$
	\end{demostracion}
\end{proposicion}

\begin{proposicion}\label{prop:res2}
	Sea $E$ una extensión de $Q$ por $A$ y $s_1,s_2$ dos secciones de $Q$ a $E$ y $c_1,c_2$ los cociclos asociados a $s_1$ y $s_2$. Entonces, $c_1$ y $c_2$ se diferencian en un $2$-coborde. Esto es, la extensión $E$ determina la clase $[c_1]\in H^2_\varphi(Q,A)$.
	
	\begin{demostracion}
		La diferencia de $s_1$ y $s_2$ es una función $\homo e Q {A}$, $s_2(q) = i(e(q))s_1(q)$ % tecnicamente es una funcion en i(A)
		\begin{align*}
			i(c_2(g,h))s_2(gh) &= s_2(g)s_2(h) \\ &= i(e(g))s_1(g)i(e(h))s_1(h)\\ &= i(e(g) + g \cdot e(h)) s_1(g)s_1(h) \\ &= i(e(g) + g \cdot e(h) + c(g,h))s_1(gh)
		\end{align*}
		De donde obtenemos
		\begin{equation} 
			(c_2-c_1)(g,h) = g \cdot e(h) - e(gh) + e(g)
		\end{equation}
	\end{demostracion}
\end{proposicion}

Hemos visto en \ref{prop:res1} que una extensión de $Q$ por $A$ viene dada por un $2$-cociclo normalizado y en \ref{prop:res2} que dos extensiones son equivalentes cuando los $2$-cociclos se diferencian en un $2$-coborde. Por tanto, queda demostrado el siguiente teorema.

\begin{teorema}\label{h2}
	Sea $A$ un $Q$-módulo dado por una acción $\homo \varphi Q {Aut(A)}$. Entonces, las extensiones equivalentes de $Q$ por $A$ están en correspondencia uno a uno con los elementos del segundo grupo de cohomología.
	\begin{equation*}
		\Ext_{\varphi}(Q,A)\cong H^2_{\varphi}(Q,A)
	\end{equation*}
\end{teorema}

\begin{observacion}\label{obs:split}
	El producto semidirecto se corresponde con el elemento neutro de $H^2(Q,A)$.
	\begin{demostracion}
		Por el Teorema \ref{splitext}, si una sección es un homomorfismo, el $2$-cociclo asociado a ésta es trivial.
	\end{demostracion}
\end{observacion}



\subsection{Teorema de Schur-Zassenhaus. Caso abeliano}

\begin{lema}\label{lem:trivh2}% por favor revisar los indices antes de publicarlo
	% dicho de otra forma, H^n(Q,A) es un Z_m-modulo donde m=|Q|
	Sea $Q$ un grupo y $A$ un grupo abeliano con $\mcd(\ord{Q}, \ord{A}) = 1$. Entonces $H^n(Q,A)$ es trivial para todo $n\in\Z^+$.
	\begin{demostracion}
		Sea $c$ un $n$-cociclo
		\begin{multline}\label{eq:ncocycle}
			q_1\cdot c(q_2,\hdots,q_{n+1}) + \left[\sum\limits_{i=1}^{n} (-1)^i c(q_1,\hdots,q_iq_{i+1},\hdots,q_{n+1}) \right] + \\ + (-1)^{n+1}c(q_1,\hdots,q_n) = 0
		\end{multline}
		
		Definiendo $\tilde c(q_1,\hdots,q_{n-1}) = {\displaystyle \sum_{q_n\in Q} c(q_1,\hdots,q_{n})}$ y haciendo la suma en \eqref{eq:ncocycle} para cada $q_{n+1} \in Q$
		\begin{multline*}
			q_1\cdot \tilde c(q_2,\hdots,q_n) + \left[\sum\limits_{i=1}^{n-1}(-1)^i \tilde c(q_1,\hdots,q_iq_{i+1},\hdots,q_{n}) \right] +\\+ (-1)^n\tilde c(q_1,\hdots,q_{n-1})+ \ord{Q}(-1)^{n+1} c(q_1,\hdots,q_n) = 0
		\end{multline*}
		
		Como $\mcd(\ord{Q}, \ord{A}) = 1$, podemos multiplicar por $k \equiv (-1)^n\ord{Q}^{-1} \mod \ord{A}$
		\begin{multline*}
			c(q_1,\hdots,q_n) = q_1\cdot k\tilde c(q_2,\hdots,q_n) + \\ + \left[\sum\limits_{i=1}^{n-1}(-1)^i k\tilde c(q_1,\hdots,q_iq_{i+1},\hdots,q_{n}) \right] + (-1)^nk\tilde c(q_1,\hdots,q_{n-1}) 
		\end{multline*}
		
		El cociclo $c$ verifica la ecuación de un coborde para la función $k \tilde c$ y por tanto $H^n(Q,A)$ es trivial.
		
		
	\end{demostracion}
\end{lema}

\begin{teorema}\label{thmschurab} Sea $G$ un grupo finito y sea $N \norm G$ abeliano, $\ord{N}=n$ y $\ord{G:N}=m$ con $\mcd(n,m)=1$. Entonces $G$ contiene subgrupos de orden $m$ y dos cualesquiera son conjugados.
	\begin{demostracion}
%		Tomamos una sección $s$ y su $2$-cociclo asociado $c$. 
%		\begin{equation}
%			c(q_1,q_2)\cdot q_3  - c(q_1,q_2q_3)+ c(q_1q_2,q_3) -c(q_2,q_3) =0
%		\end{equation}
%		Definimos la función ${\displaystyle \tilde c(x) = \sum_{t\in Q} c(t,x)}$ y hacemos la suma en $q_1\in Q$
%		\begin{equation}\label{coccob}
%			m c(q_2,q_3) = \tilde c(q_2)\cdot q_3 + \tilde c(q_3) - \tilde c(q_2q_3)
%		\end{equation}
%		
%		Como $\mcd(m,n)=1$, existe un $k\in \Z$ tal que $km\equiv 1 \mod n$. Multiplicando por $k$ llegamos a 
%		\begin{equation}
%			c(q_2,q_3) = k \tilde c(q_2)\cdot q_3 + k \tilde c(q_3) - k \tilde c(q_2q_3)
%		\end{equation}
%		Por tanto, $c$ verifica la ecuación de un coborde para la función $k \tilde c$ y $H^{2}(Q,N)$ es trivial. Por la Observación \ref{obs:split}, $G$ es un producto semidirecto de $Q$ por $N$.
%		
%		Para ver que dos subgrupos cualesquiera son conjugados, cogemos $s$ una escisión de $G$ y $a$ su $1$-cociclo asociado. 
%		\begin{equation}
%			a(q_1q_2)=a(q_1)\cdot q_2 + a(q_2)
%		\end{equation}
%		Haciendo la suma en $q_1\in Q$ y multiplicando por $k$
%		\begin{equation}
%			a(q_2) = k\tilde a - k\tilde a \cdot q_2
%		\end{equation}
%		vemos que $a$ verifica la ecuación de un $1$-coborde para la función $k\tilde a$ y $H^1(Q,N)$ es trivial. Por el Teorema $\ref{h1}$, todas las escisiones son $N$-conjugadas y por tanto son conjugadas.

		Por el Lema \ref{lem:trivh2}, $H^2(Q,N)$ es trivial y por la Observación \ref{obs:split}, $G$ es un producto semidirecto de $Q$ por $N$. Esto prueba la parte de existencia.
		
		Para la conjugación, cualquier subgrupo $\tilde Q$ de $G$ de orden $m$, al ser $\mcd(n,m)=1$, tiene intersección trivial con $N$ y la proyección sobre $G/N$ es inyectiva. Por tanto, $\tilde Q$ es una escición de $G$. Por el mismo lema, $H^1(Q,N)$ es trivial y por el Teorema \ref{h1} todas las escisiones de la extensión $G$ son $N$-conjugadas y por tanto conjugadas. 
	\end{demostracion}
\end{teorema}